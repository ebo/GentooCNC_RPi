--- ./machinetalk/nanopb/generator/nanopb_generator.py~	2021-07-10 10:14:58.000000000 -0400
+++ ./machinetalk/nanopb/generator/nanopb_generator.py	2021-07-10 10:15:15.000000000 -0400
@@ -236,7 +236,7 @@
             raise NotImplementedError(field_options.type)
         
         # Decide the C data type to use in the struct.
-        if datatypes.has_key(desc.type):
+        if datatypes.__contains__(desc.type):
             self.ctype, self.pbtype, self.enc_size, isa = datatypes[desc.type]
 
             # Override the field size if user wants to use smaller integers
